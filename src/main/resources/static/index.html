<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <script>
        window.onload = function(){
            let loginBtn = document.getElementById('loginBtn');
            loginBtn.addEventListener('click', function(){
                login()
            });

            let logoutBtn = document.getElementById('logoutBtn');
            logoutBtn.addEventListener('click', function(){
                logout()
            });

            let authBtn = document.getElementById('authBtn');
            authBtn.addEventListener('click', function(){
                auth()
            });
        }

        function login() {
            callLogInApi().then(response =>{
                console.log(response);
            });
        }

        function logout() {
            callLogOutApi().then(response =>{
                console.log(response);
            });
        }

        function auth() {
            callAuthApi().then(response =>{
                console.log(response);
            });
        }

        async function callLogInApi() {
            let email = "test@test.com";
            let password = "1111";

            let param = {
                "email" : email,
                "password" : password
            }

            const res = await fetch('/api/v1/auth/sign-in', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(param),
            }).catch(error => {
                console.log(error)
            });

            const data = await res.json();
            return data;
        }
        async function callLogOutApi() {
            const res = await fetch('/api/v1/auth/sign-out', {
                method: 'GET',
                headers: {
                    'Content-Type': 'application/json'
                },
            }).catch(error => {
                console.log(error)
            });

            const data = await res.json();
            return data;
        }
        async function callAuthApi() {
            const res = await fetch('/api/v1/auth/foo', {
                method: 'GET',
                headers: {
                    'Content-Type': 'application/json'
                },
            }).catch(error => {
                console.log(error)
            });

            const data = await res.json();
            return data;
        }


    </script>
</head>
<body>
    <p>index, root view</p>

    <button id="loginBtn" type="button">log in</button>
    <button id="logoutBtn" type="button">log out</button>
    <button id="authBtn" type="button">auth</button>

</body>
</html>